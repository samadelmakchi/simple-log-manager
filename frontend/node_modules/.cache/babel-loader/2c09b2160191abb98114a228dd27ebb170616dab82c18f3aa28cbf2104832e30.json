{"ast":null,"code":"import React,{useState}from\"react\";import LogList from\"./components/LogList\";import axios from\"axios\";import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[token,setToken]=useState(localStorage.getItem(\"token\")||\"\");const[username,setUsername]=useState(\"\");const[password,setPassword]=useState(\"\");const handleLogin=async()=>{try{const response=await axios.post(\"/api/login\",new URLSearchParams({username,password}));setToken(response.data.access_token);localStorage.setItem(\"token\",response.data.access_token);}catch(error){alert(\"نام کاربری یا رمز عبور اشتباه است\");}};return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:token?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\u0633\\u06CC\\u0633\\u062A\\u0645 \\u0645\\u062F\\u06CC\\u0631\\u06CC\\u062A \\u0644\\u0627\\u06AF\\u200C\\u0647\\u0627\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setToken(\"\");localStorage.removeItem(\"token\");},children:\"\\u062E\\u0631\\u0648\\u062C\"}),/*#__PURE__*/_jsx(LogList,{token:token})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u0648\\u0631\\u0648\\u062F\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\u0646\\u0627\\u0645 \\u06A9\\u0627\\u0631\\u0628\\u0631\\u06CC\",onChange:e=>setUsername(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"\\u0631\\u0645\\u0632 \\u0639\\u0628\\u0648\\u0631\",onChange:e=>setPassword(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogin,children:\"\\u0648\\u0631\\u0648\\u062F\"})]})});}export default App;","map":{"version":3,"names":["React","useState","LogList","axios","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","App","token","setToken","localStorage","getItem","username","setUsername","password","setPassword","handleLogin","response","post","URLSearchParams","data","access_token","setItem","error","alert","className","children","onClick","removeItem","type","placeholder","onChange","e","target","value"],"sources":["/home/smd/Downloads/smd_log/frontend/src/App.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport LogList from \"./components/LogList\";\nimport axios from \"axios\";\n\nfunction App() {\n    const [token, setToken] = useState(localStorage.getItem(\"token\") || \"\");\n    const [username, setUsername] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n\n    const handleLogin = async () => {\n        try {\n            const response = await axios.post(\"/api/login\", new URLSearchParams({\n                username,\n                password\n            }));\n            setToken(response.data.access_token);\n            localStorage.setItem(\"token\", response.data.access_token);\n        } catch (error) {\n            alert(\"نام کاربری یا رمز عبور اشتباه است\");\n        }\n    };\n\n    return (\n        <div className=\"App\">\n            {token ? (\n                <>\n                    <h1>سیستم مدیریت لاگ‌ها</h1>\n                    <button onClick={() => { setToken(\"\"); localStorage.removeItem(\"token\"); }}>خروج</button>\n                    <LogList token={token} />\n                </>\n            ) : (\n                <div>\n                    <h2>ورود</h2>\n                    <input type=\"text\" placeholder=\"نام کاربری\" onChange={(e) => setUsername(e.target.value)} />\n                    <input type=\"password\" placeholder=\"رمز عبور\" onChange={(e) => setPassword(e.target.value)} />\n                    <button onClick={handleLogin}>ورود</button>\n                </div>\n            )}\n        </div>\n    );\n}\n\nexport default App;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,OAAO,KAAM,sBAAsB,CAC1C,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,QAAA,IAAAC,SAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACX,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGX,QAAQ,CAACY,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,EAAI,EAAE,CAAC,CACvE,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACgB,QAAQ,CAAEC,WAAW,CAAC,CAAGjB,QAAQ,CAAC,EAAE,CAAC,CAE5C,KAAM,CAAAkB,WAAW,CAAG,KAAAA,CAAA,GAAY,CAC5B,GAAI,CACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAjB,KAAK,CAACkB,IAAI,CAAC,YAAY,CAAE,GAAI,CAAAC,eAAe,CAAC,CAChEP,QAAQ,CACRE,QACJ,CAAC,CAAC,CAAC,CACHL,QAAQ,CAACQ,QAAQ,CAACG,IAAI,CAACC,YAAY,CAAC,CACpCX,YAAY,CAACY,OAAO,CAAC,OAAO,CAAEL,QAAQ,CAACG,IAAI,CAACC,YAAY,CAAC,CAC7D,CAAE,MAAOE,KAAK,CAAE,CACZC,KAAK,CAAC,mCAAmC,CAAC,CAC9C,CACJ,CAAC,CAED,mBACItB,IAAA,QAAKuB,SAAS,CAAC,KAAK,CAAAC,QAAA,CACflB,KAAK,cACFF,KAAA,CAAAF,SAAA,EAAAsB,QAAA,eACIxB,IAAA,OAAAwB,QAAA,CAAI,0GAAmB,CAAI,CAAC,cAC5BxB,IAAA,WAAQyB,OAAO,CAAEA,CAAA,GAAM,CAAElB,QAAQ,CAAC,EAAE,CAAC,CAAEC,YAAY,CAACkB,UAAU,CAAC,OAAO,CAAC,CAAE,CAAE,CAAAF,QAAA,CAAC,0BAAI,CAAQ,CAAC,cACzFxB,IAAA,CAACH,OAAO,EAACS,KAAK,CAAEA,KAAM,CAAE,CAAC,EAC3B,CAAC,cAEHF,KAAA,QAAAoB,QAAA,eACIxB,IAAA,OAAAwB,QAAA,CAAI,0BAAI,CAAI,CAAC,cACbxB,IAAA,UAAO2B,IAAI,CAAC,MAAM,CAACC,WAAW,CAAC,yDAAY,CAACC,QAAQ,CAAGC,CAAC,EAAKnB,WAAW,CAACmB,CAAC,CAACC,MAAM,CAACC,KAAK,CAAE,CAAE,CAAC,cAC5FhC,IAAA,UAAO2B,IAAI,CAAC,UAAU,CAACC,WAAW,CAAC,6CAAU,CAACC,QAAQ,CAAGC,CAAC,EAAKjB,WAAW,CAACiB,CAAC,CAACC,MAAM,CAACC,KAAK,CAAE,CAAE,CAAC,cAC9FhC,IAAA,WAAQyB,OAAO,CAAEX,WAAY,CAAAU,QAAA,CAAC,0BAAI,CAAQ,CAAC,EAC1C,CACR,CACA,CAAC,CAEd,CAEA,cAAe,CAAAnB,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}