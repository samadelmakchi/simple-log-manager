{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const LogList=_ref=>{let{token}=_ref;const[logs,setLogs]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(\"\");useEffect(()=>{axios.get(\"/api/logs\",{headers:{Authorization:`Bearer ${token}`}}).then(response=>{setLogs(response.data);setLoading(false);}).catch(error=>{setError(\"خطا در دریافت اطلاعات\");setLoading(false);});},[token]);if(loading)return/*#__PURE__*/_jsx(\"p\",{children:\"\\u062F\\u0631 \\u062D\\u0627\\u0644 \\u0628\\u0627\\u0631\\u06AF\\u0630\\u0627\\u0631\\u06CC...\"});if(error)return/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\"},children:error});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u0644\\u06CC\\u0633\\u062A \\u0644\\u0627\\u06AF\\u200C\\u0647\\u0627\"}),/*#__PURE__*/_jsxs(\"table\",{border:\"1\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"\\u0645\\u06CC\\u06A9\\u0631\\u0648\\u0633\\u0631\\u0648\\u06CC\\u0633\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u062A\\u0627\\u0631\\u06CC\\u062E \\u0648 \\u0632\\u0645\\u0627\\u0646\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u067E\\u06CC\\u0627\\u0645 \\u062E\\u0637\\u0627\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0645\\u0633\\u06CC\\u0631\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0634\\u0646\\u0627\\u0633\\u0647 \\u06A9\\u0627\\u0631\\u0628\\u0631\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:logs.map((log,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:log.microservice}),/*#__PURE__*/_jsx(\"td\",{children:new Date(log.datetime).toLocaleString()}),/*#__PURE__*/_jsx(\"td\",{children:log.message}),/*#__PURE__*/_jsx(\"td\",{children:log.url}),/*#__PURE__*/_jsx(\"td\",{children:log.idu})]},index))})]})]});};export default LogList;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","LogList","_ref","token","logs","setLogs","loading","setLoading","error","setError","get","headers","Authorization","then","response","data","catch","children","style","color","border","map","log","index","microservice","Date","datetime","toLocaleString","message","url","idu"],"sources":["/home/smd/Downloads/smd_log/frontend/src/components/LogList.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nconst LogList = ({ token }) => {\n    const [logs, setLogs] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState(\"\");\n\n    useEffect(() => {\n        axios\n            .get(\"/api/logs\", { headers: { Authorization: `Bearer ${token}` } })\n            .then((response) => {\n                setLogs(response.data);\n                setLoading(false);\n            })\n            .catch((error) => {\n                setError(\"خطا در دریافت اطلاعات\");\n                setLoading(false);\n            });\n    }, [token]);\n\n    if (loading) return <p>در حال بارگذاری...</p>;\n    if (error) return <p style={{ color: \"red\" }}>{error}</p>;\n\n    return (\n        <div>\n            <h2>لیست لاگ‌ها</h2>\n            <table border=\"1\">\n                <thead>\n                    <tr>\n                        <th>میکروسرویس</th>\n                        <th>تاریخ و زمان</th>\n                        <th>پیام خطا</th>\n                        <th>مسیر</th>\n                        <th>شناسه کاربر</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {logs.map((log, index) => (\n                        <tr key={index}>\n                            <td>{log.microservice}</td>\n                            <td>{new Date(log.datetime).toLocaleString()}</td>\n                            <td>{log.message}</td>\n                            <td>{log.url}</td>\n                            <td>{log.idu}</td>\n                        </tr>\n                    ))}\n                </tbody>\n            </table>\n        </div>\n    );\n};\n\nexport default LogList;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,KAAM,CAAAC,OAAO,CAAGC,IAAA,EAAe,IAAd,CAAEC,KAAM,CAAC,CAAAD,IAAA,CACtB,KAAM,CAACE,IAAI,CAAEC,OAAO,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CACpC,KAAM,CAACY,OAAO,CAAEC,UAAU,CAAC,CAAGb,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACc,KAAK,CAAEC,QAAQ,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CAEtCC,SAAS,CAAC,IAAM,CACZC,KAAK,CACAc,GAAG,CAAC,WAAW,CAAE,CAAEC,OAAO,CAAE,CAAEC,aAAa,CAAE,UAAUT,KAAK,EAAG,CAAE,CAAC,CAAC,CACnEU,IAAI,CAAEC,QAAQ,EAAK,CAChBT,OAAO,CAACS,QAAQ,CAACC,IAAI,CAAC,CACtBR,UAAU,CAAC,KAAK,CAAC,CACrB,CAAC,CAAC,CACDS,KAAK,CAAER,KAAK,EAAK,CACdC,QAAQ,CAAC,uBAAuB,CAAC,CACjCF,UAAU,CAAC,KAAK,CAAC,CACrB,CAAC,CAAC,CACV,CAAC,CAAE,CAACJ,KAAK,CAAC,CAAC,CAEX,GAAIG,OAAO,CAAE,mBAAOR,IAAA,MAAAmB,QAAA,CAAG,qFAAkB,CAAG,CAAC,CAC7C,GAAIT,KAAK,CAAE,mBAAOV,IAAA,MAAGoB,KAAK,CAAE,CAAEC,KAAK,CAAE,KAAM,CAAE,CAAAF,QAAA,CAAET,KAAK,CAAI,CAAC,CAEzD,mBACIR,KAAA,QAAAiB,QAAA,eACInB,IAAA,OAAAmB,QAAA,CAAI,+DAAW,CAAI,CAAC,cACpBjB,KAAA,UAAOoB,MAAM,CAAC,GAAG,CAAAH,QAAA,eACbnB,IAAA,UAAAmB,QAAA,cACIjB,KAAA,OAAAiB,QAAA,eACInB,IAAA,OAAAmB,QAAA,CAAI,8DAAU,CAAI,CAAC,cACnBnB,IAAA,OAAAmB,QAAA,CAAI,gEAAY,CAAI,CAAC,cACrBnB,IAAA,OAAAmB,QAAA,CAAI,6CAAQ,CAAI,CAAC,cACjBnB,IAAA,OAAAmB,QAAA,CAAI,0BAAI,CAAI,CAAC,cACbnB,IAAA,OAAAmB,QAAA,CAAI,+DAAW,CAAI,CAAC,EACpB,CAAC,CACF,CAAC,cACRnB,IAAA,UAAAmB,QAAA,CACKb,IAAI,CAACiB,GAAG,CAAC,CAACC,GAAG,CAAEC,KAAK,gBACjBvB,KAAA,OAAAiB,QAAA,eACInB,IAAA,OAAAmB,QAAA,CAAKK,GAAG,CAACE,YAAY,CAAK,CAAC,cAC3B1B,IAAA,OAAAmB,QAAA,CAAK,GAAI,CAAAQ,IAAI,CAACH,GAAG,CAACI,QAAQ,CAAC,CAACC,cAAc,CAAC,CAAC,CAAK,CAAC,cAClD7B,IAAA,OAAAmB,QAAA,CAAKK,GAAG,CAACM,OAAO,CAAK,CAAC,cACtB9B,IAAA,OAAAmB,QAAA,CAAKK,GAAG,CAACO,GAAG,CAAK,CAAC,cAClB/B,IAAA,OAAAmB,QAAA,CAAKK,GAAG,CAACQ,GAAG,CAAK,CAAC,GALbP,KAML,CACP,CAAC,CACC,CAAC,EACL,CAAC,EACP,CAAC,CAEd,CAAC,CAED,cAAe,CAAAtB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}